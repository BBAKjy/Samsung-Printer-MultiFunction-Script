import requests

f = open("ips.txt", 'r')

ips = f.readlines()

print(ips)

excepts = []
res = []

for ip in ips:
    try:
        response = requests.get("http://" + ip[:-1], timeout=10)
        
        if(response.status_code >= 200 and response.status_code < 400):
            res.append(ip[:-1])

        else:
            excepts.append(ip[:-1])
        
        print(response.status_code)

    except Exception as e:
        if "HTTPS" not in str(e):
            excepts.append(ip[:-1])

        else:
            res.append(ip[:-1])

print("Exceptions >> " + str(excepts))
print("RESULTS >> " + str(res))


# excepts =  ['113.0.12.167', '113.0.52.50', '113.0.52.81', '113.10.163.77', '113.10.163.78', '113.0.122.58', '113.0.122.64', '113.0.122.69', '113.0.64.48', '113.0.65.113', '113.0.65.17', '113.0.65.83', '113.0.121.127', '113.0.121.176', '113.10.40.61', '113.0.227.89', '113.10.150.183', '113.10.65.27', '113.20.65.228', '113.10.235.30', '113.10.20.189', '113.0.100.210', '113.0.100.95', '113.0.101.167', '113.10.137.174']

# errors = ['113.0.121.191', '113.0.121.192', '113.0.121.193', '113.0.121.194', '113.10.4.77', '113.10.92.151', '113.10.92.152', '113.10.92.99', '113.10.92.40', '113.10.94.177', '113.10.93.151', '113.10.93.56', '113.10.93.57', '113.0.54.146', '113.0.54.147', '113.0.54.149', '113.0.227.39', '113.0.227.61', '113.0.227.64', '113.0.227.67', '113.0.227.68', '113.0.227.69', '113.0.227.70', '113.0.227.79', '113.0.227.87', '113.0.227.88', '113.0.227.90', '113.0.228.105', '113.0.228.106', '113.0.228.109', '113.0.228.121', '113.0.228.123', '113.0.228.127', '113.0.228.128', '113.0.228.129', '113.0.228.196', '113.0.54.16', '113.0.54.25', '113.0.54.71', '113.0.54.81', '113.10.95.26', '113.10.95.45', '113.10.95.46', '113.10.95.52', '113.0.53.204', '113.0.53.51', '113.10.60.180', '113.10.60.181', '113.10.69.130', '113.10.69.199', '113.10.69.201', '113.10.69.40', '113.10.75.25', '113.20.49.91', '113.20.49.232', '113.20.53.100', '113.10.92.33', '113.10.92.34', '113.10.50.11', '113.10.50.248', '113.0.100.119', '113.0.100.123', '113.0.101.133', '113.0.101.164', '113.0.101.186', '113.0.101.50', '113.0.100.204', '113.0.100.159', '113.0.100.188', '113.0.100.194', '113.0.35.82', '113.10.137.182', '113.10.142.100', '113.10.143.45', '113.0.122.84', '113.0.51.48', '113.0.233.33']
# for i in excepts:
#     print(i)

# print("\n\n\n\n\n")

# for i in errors:
#     print(i)
